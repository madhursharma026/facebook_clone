{% extends "facebook_layout.html" %}
{% block body %}

<!-- style for only for homepage -->
<style>
    #myDiv1 {
        border-bottom: thick solid blue;
    }

    .img {
        width: 40px;
        height: 40px;
    }

    .user_add_post {
        width: 90%;
        border: 1px solid #e6e7e9;
        background: #F0F2F5;
        border-radius: 15px;
        font-size: 17px;
        height: 40px;
        float: right;
    }

    .block img {
        width: 40px;
        height: 40px;
        float: left;
        margin: 0 1rem 0 0;
    }

    .profile-block img {
        width: 40px;
        height: 40px;
        float: left;
        margin: -10px 1rem 0 0;
    }

    .post-user-profile img {
        width: 40px;
        height: 40px;
        float: left;
        margin: 0px 1rem 0 0;
    }

    .user_post_comment {
        width: 90%;
        border: 1px solid #e6e7e9;
        background: #F0F2F5;
        border-radius: 15px;
        font-size: 17px;
        height: 40px;
    }

    @media (max-width: 550px) {
        .user_post_comment {
            width: 90%;
            float: right;
        }
    }

    @media (max-width: 1481px) {
        .user_add_post {
            width: 85%;
        }
    }

    @media (max-width: 1038px) {
        .user_add_post {
            width: 84%;
        }
    }

    @media (max-width: 991px) {
        .user_add_post {
            width: 89%;
        }
    }

    @media (max-width: 767px) {
        .user_add_post {
            width: 90%;
        }
    }

    .left_menu_1 {
        width: 65%;
        display: block;
    }

    @media (max-width: 1500px) {
        .left_menu_1 {
            width: 80%;
            display: block;
        }

    }

    @media (min-width: 1200px) {
        .right_sidebar_fixed_scrn {
            width: 25%;
            position: fixed;
        }
    }

    @media (max-width: 1200px) {
        .left_menu_1 {
            width: 100%;
            display: block;
        }

        .right_sidebar_fixed_scrn {
            width: 33%;
            position: fixed;
        }
    }

    @media (max-width: 992px) {
        .right_sidebar_fixed_scrn {
            width: 41%;
            position: fixed;
        }
    }

    @media (min-width: 992px) {
        .center_all_post {
            margin-left: 33%;
        }
    }
</style>
<br>
<div id="main" class="row">

    <!-- left sidebar to show multiple options -->

    <div class="col-lg-4 left_sidebar_home" style="position: fixed;">
        <a href="/myprofile" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="/static/profile_image/{{myname.profile_image}}" alt="#"
                height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;{{myname.firstname}}
            {{myname.lastname}}</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/yg/r/kOxV5aCYUAE.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;COVID-19 Information
            Center</a>
        <a href="{{url_for('friends.myfriends')}}"
            style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/y8/r/S0U5ECzYUSu.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Friends</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/duk32h44Y31.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Watch</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/ys/r/8wTx0Eu2vRq.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Events</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/w-vdKCGzCy1.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Most Recent</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/yK/r/mAnT0r8GSOm.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Favourite</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/PrjLkDYpYbH.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Groups</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/yU/r/D2y-jJ2C_hO.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;MarketPlace</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/y6/r/VPndBxotRgH.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Memories</a>
        <a href="#" style="text-decoration: none; color: black; font-weight: 600; border-radius: 10px;"
            class="left_menu_1 pt-2 pb-2 px-2"><img src="https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/lVijPkTeN-r.png"
                alt="#" height="35px" width="35px" style="border-radius: 100%;">&nbsp;&nbsp;Saved</a>
    </div>

    <!-- card for showing homepage post -->
    <div class="col-12 col-md-7 col-lg-4 center_sidebar_home center_all_post">
        <div class="card center_add_post" style="border-radius: 10px;">
            <div class="card-body">
                <div>
                    <img class="img" src="/static/profile_image/{{myname.profile_image}}" />
                    <input class="user_add_post" type="text" placeholder="What's on your mind, {{myname.firstname}}?"
                        data-toggle="modal" data-target="#exampleModalCenter">
                </div>
                <!-- Add Post Modal -->
                <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLongTitle">Create Post</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <form method="POST" action="/addpost" enctype="multipart/form-data">
                                <div class="modal-body">
                                    <textarea maxlength="180" rows="6" name="postdescription"
                                        placeholder="What's on your mind, {{myname.firstname}}?"
                                        style="font-size: 24px; width: 100%;"></textarea>
                                    <li class="list-group-item"><b>Add image </b> <input type="file" name="postimage"
                                            style="float: right; border: 1px solid black;"></li>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary" style="width: 100%;">Post</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <a href="#live_btn" class="col-4 text-center live_btn py-2"><button
                            style="border: none; background: transparent;">üé• <span class="live_btn_text">Live
                                Video</span></button></a>
                    <a href="#photo_video_btn" class="col-4 text-center photo_video_btn py-2"><button
                            style="border: none; background: transparent;">üñºÔ∏è <span
                                class="photo_video_btn_text">Photos/Video</span></button></a>
                    <a href="#feelings_btn" class="col-4 text-center feelings_btn py-2"><button
                            style="border: none; background: transparent;">üòÇ <span
                                class="feelings_btn_text">Feelings/Activity</span></button></a>
                </div>
            </div>
        </div><br>
        {% if my_all_frnd_post %}
        {% for my_all_frnd_post in my_all_frnd_post %}
        <div class="card center_post" style="border-radius: 10px;">
            <div class="card-body">
                <div class="post-user-profile">
                    <img class="rounded-circle post-user"
                        src="/static/profile_image/{{my_all_frnd_post.User.profile_image}}">
                    <h6><a href='/username/{{my_all_frnd_post.User.id}}'
                            style="text-decoration: none; color: #000; font-size: 18px;">{{my_all_frnd_post.User.firstname}}
                            {{my_all_frnd_post.User.lastname}}</a>
                    </h6>
                    <p style="margin-top: -7px;">{{my_all_frnd_post.Post.date_posted.strftime('%Y-%m-%d')}}</p>
                    <a href="/post_with_like/{{my_all_frnd_post.Post.id}}" style="text-decoration: none; color: #000;">
                        <p>{{my_all_frnd_post.Post.post_description}}</p>
                    </a>
                </div>
                {% if my_all_frnd_post.Post.post_image != "none" %}
                <a href="/post_with_like/{{my_all_frnd_post.Post.id}}"><img
                        src="/static/post_image_folder/{{my_all_frnd_post.Post.post_image}}" width="100%"
                        height="auto"></a>
                {% endif %}
                <div>
                    <div class="row">
                        <div class="col-6" style="float: left;">
                            <h6 style="margin-top: 10px;"><a href="/post_with_like/{{my_all_frnd_post.Post.id}}"
                                    style="text-decoration: none; color: #000;">
                                    {% for like_count in like_count %}
                                    {% if like_count.id == my_all_frnd_post.Post.id %}
                                    ü•∞‚ù§Ô∏èü•∞„Äê{{like_count[1]}}„Äë
                                    {% endif %}
                                    {% endfor %}
                                </a>
                            </h6>
                        </div>
                        <div class="col-6" style="float: right;">
                            <h6><a href="/post_with_comment/{{my_all_frnd_post.Post.id}}"
                                    style="text-decoration: none; color: #000; float: right;">
                                    {% for comment_count in comment_count %}
                                    {% if comment_count.id == my_all_frnd_post.Post.id %}
                                    „Äê{{comment_count[1]}}„ÄëComment
                                    {% endif %}
                                    {% endfor %}
                                </a>
                            </h6>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <a href="/like{{my_all_frnd_post.Post.id}}" class="col-4 text-center reaction" role="button"
                            style="border: none; text-decoration: none; color: #000;
                            {% for like_exists in like_exists %}
                            {% if like_exists.Post.id == my_all_frnd_post.Post.id %}
                            background: blue; color: white;
                            {% endif %}
                            {% endfor %}"><i class="fa fa-thumbs-o-up" style="font-size: 18px;"></i> Like</a>
                        <a href="/post_with_comment/{{my_all_frnd_post.Post.id}}" class="col-4 text-center reaction"
                            role="button" style="border: none; text-decoration: none; color: black;"><i
                                class="fa fa-edit" style="font-size: 18px;"></i> Comment</a>
                        <a href="#share" class="col-4 text-center reaction" role="button"
                            style="border: none; text-decoration: none; color: black;"><i class="fa fa-share-square-o"
                                style="font-size: 18px;"></i> Share</a>
                    </div>
                    <hr>
                    <div>
                        <form method="POST" action="/post/{{my_all_frnd_post.Post.id}}/comment">
                            <img class="img" src="/static/profile_image/{{myname.profile_image}}" />
                            <input class="user_post_comment" name="comment_data" autofocus="autofocus" type="text"
                                placeholder="Write a comment...">
                        </form>
                    </div>
                </div>
            </div>
        </div><br>
        {% endfor %}
        {% else %}
        <div class="card center_post" style="border-radius: 10px;">
            <div class="card-body text-center">
                <h4>*---- No post found ----*</h4>
            </div>
        </div>
        {% endif %}
    </div>

    <!-- right sidebar for showing 5 friend request and 5 friends -->

    <div class="col-md-5 col-lg-4 col-xl-3 offset-xl-1 right_sidebar_home">
        <div class="right_sidebar_fixed_scrn">
            <div class="card frd-requests mb-3"
                style="width: 100%; border: none; background: #F0F2F5; padding-left: 20px;">
                {% if friend_request_detail %}
                <div class="card-body">
                    <h5 class="text-secondary mb-3">Friend Requests<a
                            href="{{url_for('friends.friend_request_receive')}}"
                            style="float: right; text-decoration: none; font-size: 15px;">See All</a></h5>

                    {% for friend_request_detail in friend_request_detail %}
                    <div class="block mb-2">
                        <img class="rounded-circle account-img" width="5px" height="5px"
                            src="/static/profile_image/{{friend_request_detail.profile_image}}">
                        <h6><a href='/username/{{friend_request_detail.id}}'
                                style="text-decoration: none; color: #000; font-size: 16px;">{{friend_request_detail.firstname}}
                                {{friend_request_detail.lastname}}</a>
                            <span
                                style="float: right;">{{friend_request_detail.request_sent_date.strftime('%Y-%m-%d')}}</span>
                        </h6>
                        9 mutual friends <br>
                        <a href="/accept_friend_request/{{friend_request_detail.id}}" role="button"
                            class="btn btn-primary btn-inline" style="margin-left: 50px;">Confirm</a>
                        <a href="/block_friend_request/{{friend_request_detail.id}}" role="button"
                            class="btn btn-inline" style="background: #d8d8d8;">Block</a>
                    </div>
                    {%endfor%}
                </div>
                <hr>
                {% endif %}
            </div>

            <div class="frd-show mx-3" style="padding-left: 20px;">
                {% if my_friends_detail %}
                <h5 class="text-secondary mb-4">Friends<a href="{{url_for('friends.myfriends')}}"
                        style="float: right; text-decoration: none; font-size: 15px;">See All</a></h5>
                {% for my_friends_detail in my_friends_detail %}
                <a href='/username/{{my_friends_detail.id}}' style="text-decoration: none; color: #000;">
                    <div class="profile-block  pt-3 pb-3">
                        <img class="rounded-circle friends-profile"
                            src="/static/profile_image/{{my_friends_detail.profile_image}}">
                        <h6 style="font-size: 18px;">{{my_friends_detail.firstname}} {{my_friends_detail.lastname}}</h6>
                    </div>
                </a>
                {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

{% endblock %}